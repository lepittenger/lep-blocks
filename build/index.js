!function(){"use strict";var e,t={630:function(e,t,l){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e}).apply(this,arguments)}var n=window.wp.element,a=window.wp.blockEditor,r=window.wp.components,c=window.wp.compose,s=window.wp.data,i=window.wp.hooks;(0,i.applyFilters)("wdsblocks.container_class","container");const u=(0,i.applyFilters)("wdsblocks.sitemaps.innerBlocksProps",{allowedBlocks:["wdsblocks/sitemap-item"],template:[]});var d=window.wp.i18n;function m(e){const{togglePreview:t,showPreview:l=!0}=e;return(0,n.createElement)(a.BlockControls,null,(0,n.createElement)(r.ToolbarGroup,null,l?(0,n.createElement)(r.ToolbarButton,{icon:"edit",label:"Switch to Edit",onClick:()=>t()}):(0,n.createElement)(r.ToolbarButton,{icon:"welcome-view-site",label:"Switch to Preview",onClick:()=>t()})))}var b=window.React,p=(0,c.compose)([(0,s.withSelect)(((e,t)=>{const{blockId:l}=t;return{blockCount:e("core/block-editor").getBlockOrder(l).length}}))])((function(e){const{attributes:{title:t,contentStyle:l,backgroundStyle:c,blockCount:s},className:i,setAttributes:p,blockCount:g}=e,{showPreview:w,togglePreview:v,doubleClick:k}=function(){const[e,t]=(0,b.useState)(!0),l=()=>{t(!e)};return{showPreview:e,togglePreview:l,doubleClick:()=>{e&&l()}}}();return(0,n.useEffect)((()=>{p({blockCount:g})}),[g]),!s&&w&&v(),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.BlockControls,null,(0,n.createElement)(a.AlignmentToolbar,{value:l.textAlign,onChange:e=>{const t=void 0===e?"none":e;p({contentStyle:{color:l.color,textAlign:t}})}}),(0,n.createElement)(m,{showPreview:w,togglePreview:v})),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(r.Panel,{className:i},(0,n.createElement)(r.PanelBody,{title:(0,d.__)("Color Settings","wdsblocks"),initialOpen:!0},(0,n.createElement)(r.PanelRow,null,(0,d.__)("Choose a text color.","wdsblocks")),(0,n.createElement)(a.ColorPalette,{value:l.color,onChange:e=>{p({contentStyle:{color:void 0===e?"none":e,textAlign:l.textAlign}})}}),(0,n.createElement)(r.PanelRow,null,(0,d.__)("Choose a background color.","wdsblocks")),(0,n.createElement)(a.ColorPalette,{value:c.backgroundColor,onChange:e=>{p({backgroundStyle:{backgroundColor:void 0===e?"none":e}})}}))))),(0,n.createElement)("div",{className:`${i} ${w?"preview-mode":"edit-mode"}`,onDoubleClick:k},w?(0,n.createElement)("div",{className:`${i} sitemaps`,style:c,blockCount:g,isAdmin:!0},(0,n.createElement)(a.RichText,{className:"block-title",tagName:"h2",allowedFormats:[],style:l,value:t}),(0,n.createElement)(a.InnerBlocks,o({},u,{__experimentalTagName:"div",__experimentalPassedProps:{className:"inner-blocks"},renderAppender:!1}))):(0,n.createElement)("div",{className:`${i} sitemaps`,style:c},(0,n.createElement)(a.RichText,{className:"block-title",tagName:"h2",allowedFormats:[],style:l,onChange:e=>{p({title:e})},placeholder:(0,d.__)("Block Title","wdsblocks"),keepPlaceholderOnFocus:!0,value:t}),(0,n.createElement)(a.InnerBlocks,u))))})),g=window.wp.blocks;(0,g.registerBlockType)("wdsblocks/sitemaps",{title:(0,d.__)("Sitemaps Block","wdsblocks"),description:(0,d.__)("A dynamic sitemap block.","wdsblocks"),category:"wds-blocks",keywords:[(0,d.__)("sitemap block, richtext","wdsblocks")],attributes:{showPreview:{type:"boolean",default:!0},align:{type:"string",default:"full"},title:{type:"array",source:"children",selector:"h2"},contentStyle:{type:"object",default:{color:"#000000",textAlign:"left"}},backgroundStyle:{type:"object",default:{backgroundColor:"transparent"}}},supports:{align:["full","wide","left","center","right"],anchor:!0,html:!1},edit:p,save:function(e){const{attributes:{title:t,contentStyle:l,backgroundStyle:o}}=e,r=(0,g.getBlockDefaultClassName)("wdsblocks/sitemaps");return(0,n.createElement)("div",{className:`${r} sitemaps`,style:o},(0,n.createElement)(a.RichText.Content,{className:"block-title",style:l,tagName:"h2",value:t}),(0,n.createElement)(a.InnerBlocks.Content,null))}});var w=window.wp.serverSideRender,v=l.n(w);(0,g.registerBlockType)("wdsblocks/sitemap-item",{title:(0,d.__)("Sitemap Block","wdsblocks"),description:(0,d.__)("An expand and collaspe editible content section.","wdsblocks"),category:"wds-blocks",keywords:[(0,d.__)("sitemap","wdsblocks")],supports:{html:!1,anchor:!0},parent:["wdsblocks/sitemap-group"],attributes:{title:{type:"string"},contentType:{type:"string",default:"post"},order:{type:"string",default:"DESC"},orderby:{type:"string",default:"post_date"},categoriesFilter:{type:"string",default:""},tagsFilter:{type:"string",default:""},authorFilter:{type:"string",default:""},numberOfPosts:{type:"number",default:"-1"}},edit:function(e){const{attributes:{title:t},setAttributes:l,className:o,isSelected:c}=e;let i=[];i=(0,s.useSelect)((e=>e("core").getPostTypes({per_page:-1}))),i&&(i=i.filter((e=>!0===e.viewable&&"attachment"!==e.slug)));let u=[];u=(0,s.useSelect)((e=>e("core").getTaxonomies({per_page:-1})));let m=[];m=(0,s.useSelect)((e=>e("core").getEntityRecords("taxonomy","category",{per_page:-1})));let p=[];p=(0,s.useSelect)((e=>e("core").getEntityRecords("taxonomy","post_tag",{per_page:-1})));let g=[];return g=(0,s.useSelect)((e=>e("core").getUsers({who:"authors"}))),(0,n.createElement)(b.Fragment,null,(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(r.PanelBody,{title:(0,d.__)("Settings","wdsblocks")},(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.SelectControl,{label:"Order",value:e.attributes.order,options:[{label:"None",value:""},{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],onChange:e=>l({order:e})})),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.SelectControl,{label:"Orderby",value:e.attributes.orderby,options:[{label:"ID",value:"ID"},{label:"Author",value:"author"},{label:"Title",value:"title"},{label:"Name",value:"name"},{label:"Date",value:"post_date"},{label:"Last modified date",value:"modified"},{label:"Random",value:"rand"},{label:"Comment Count",value:"comment_count"},{label:"Menu Order",value:"menu_order"}],onChange:e=>l({orderby:e})})),m&&(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ComboboxControl,{label:"Categories Filter",value:e.attributes.categoriesFilter,onChange:e=>l({categoriesFilter:e}),options:[{value:"",label:(0,d.__)("Select a category","wdsblocks")}].concat(m.map((e=>({label:e.name,value:e.slug}))))})),p&&(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ComboboxControl,{label:"Tags Filter",value:e.attributes.tagsFilter,onChange:e=>l({tagsFilter:e}),options:[{value:"",label:(0,d.__)("Select a tag","wdsblocks")}].concat(p.map((e=>({label:e.name,value:e.slug}))))})),g&&(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ComboboxControl,{label:"Authors Filter",value:e.attributes.authorFilter,onChange:e=>l({authorFilter:e}),options:[{value:"",label:(0,d.__)("Select an author","wdsblocks")}].concat(g.map((e=>({label:e.name,value:e.name}))))})))),(0,n.createElement)("div",{className:o},(0,n.createElement)("div",{className:`${o}__content`,"aria-hidden":"true",tabIndex:"-1"},(0,n.createElement)("div",{className:`${o}__content--inner`},!c&&(0,n.createElement)(v(),{block:"wdsblocks/sitemap-item",attributes:e.attributes}),c&&(0,n.createElement)(b.Fragment,null,(0,n.createElement)(a.RichText,{tagName:"h3",role:"button",tabIndex:"0",className:`${o}__title`,onChange:e=>l({title:e}),value:t||"",placeholder:(0,d.__)("Section Title","wdsblocks"),"aria-expanded":"false",allowedFormats:["core/bold","core/italic"]}),(0,n.createElement)(b.Fragment,null,i&&(0,n.createElement)(r.SelectControl,{className:"lep-sitemap__content_type",label:(0,d.__)("Post Type","wdsblocks"),value:e.attributes.contentType,onChange:e=>l({contentType:e}),options:[{value:"",label:(0,d.__)("Select a post type","wdsblocks")}].concat(i.map((e=>({label:e.name,value:e.slug}))),u.map((e=>({label:e.name,value:e.slug}))))})))))))},save:function(){return null}})}},l={};function o(e){var n=l[e];if(void 0!==n)return n.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=function(t,l,n,a){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],a=e[u][2];for(var c=!0,s=0;s<l.length;s++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](l[s])}))?l.splice(s--,1):(c=!1,a<r&&(r=a));if(c){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[l,n,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,a,r=l[0],c=l[1],s=l[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(s)var u=s(o)}for(t&&t(l);i<r.length;i++)a=r[i],o.o(e,a)&&e[a]&&e[a][0](),e[r[i]]=0;return o.O(u)},l=self.webpackChunkwds_blocks=self.webpackChunkwds_blocks||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var n=o.O(void 0,[46],(function(){return o(630)}));n=o.O(n)}();